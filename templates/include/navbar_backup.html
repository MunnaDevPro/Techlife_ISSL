{% load static %}

{% comment %} <div class="sticky top-0 z-50 h-16 flex items-center justify-between bg-gray-50 shadow px-4 lg:px-6"> {% endcomment %}
<div class="navbar sticky top-0 z-50 h-16 flex items-center justify-between bg-white px-4 sm:px-6 lg:px-12 mx-auto">
  <!-- Sidebar Toggle (Mobile) -->
  <button id="toggleSidebar" class="md:hidden p-2 rounded-lg cursor-pointer">
    <svg id="openIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu">
      <line x1="3" y1="12" x2="21" y2="12" />
      <line x1="3" y1="6" x2="21" y2="6" />
      <line x1="3" y1="18" x2="21" y2="18" />
    </svg>

    <svg id="closeIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x hidden">
      <line x1="18" y1="6" x2="6" y2="18" />
      <line x1="6" y1="6" x2="18" y2="18" />
    </svg>
  </button>

  <!-- Logo -->
  <div class="flex items-center sm:w-44 md:w-56 lg:w-64 shrink-0">
    <a href="{% url 'homepage' %}" hx-get="{% url 'homepage' %}" hx-target="#content" hx-push-url="true"
      hx-swap="innerHTML" class="flex items-center">
      <img src="{% static 'image/logo-front.png' %}" alt="Techlife-bd"
        class="w-30 sm:w-38 md:w-44 lg:w-52 object-contain transition-transform duration-300" />
    </a>
  </div>


  <!-- Search (hidden on small screens) -->
    <form method="GET" action="{% url 'blogs' %}">
        {# general blog search page #}
        <div class="flex-1 max-w-lg mx-4 hidden md:flex">
            <label class="flex w-full gap-3 items-center rounded-3xl px-4 py-1 bg-gray-50 shadow">
                <svg class="h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <g stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" fill="none" stroke="currentColor">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.3-4.3"></path>
                    </g>
                </svg>
                <input class="w-80 bg-transparent outline-none border-0 text-sm py-2" type="search" name="q" placeholder="Search" value="{{ query|default:'' }}" />
            </label>
        </div>
    </form>


  <!-- Right Side -->
  <div class="flex items-center gap-4 sm:gap-5">
    <!-- Notifications -->
    <div class="relative group cursor-pointer">
      <!-- Bell Icon -->
      <div class="p-2 rounded-xl bg-gray-100 text-gray-700 group-hover:bg-blue-200 
        group-hover:text-blue-600 transition-all duration-200 flex items-center justify-center">
        <i class="fa-regular fa-bell text-lg"></i>
      </div>

      <!-- Notification Dot -->
      <span class="absolute -top-1 -right-1 bg-blue-400 text-white text-[10px] font-bold 
        px-[5px] py-[1px] rounded-full shadow-sm">
        30
      </span>

      <!-- Optional Tooltip (hover like Daily.dev) -->
      <div class="absolute top-10 right-1/2 translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 
        rounded-md opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap">
        Notifications
      </div>
    </div>




    <!-- Points Icon -->
    <div class="relative flex items-center justify-center cursor-pointer group  bg-gray-100
     group-hover:bg-yellow-200 px-2 py-1 rounded-lg">
      <!-- Star Icon -->
      <div class="text-gray-700  
        group-hover:text-yellow-600 transition-all duration-200">
        <i class="fa-regular fa-star text-lg"></i>
      </div>

      <!-- Point Text -->
      <span class="ml-2 text-xs sm:text-sm font-medium text-gray-700 group-hover:text-yellow-600">0</span>

    </div>


    <!-- User / Login -->
    {% if user.is_authenticated %}
    <div class="relative group">
      <a href="{% url 'user_dashboard' %}">
        <button
          class="flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full overflow-hidden border-2 border-transparent group-hover:border-gray-600 transition-all duration-300">
          <img class="w-full h-full object-cover flex items-center justify-center bg-gray-200"
            src="{{ user.profile_picture.url }}" alt="{{ user.first_name|slice:'1' }}">
        </button>
      </a>
      <div
        class="absolute top-16 left-1 inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
        <span class="text-white bg-black bg-opacity-50 text-xs px-2 py-1 rounded-full">
          {{ user.first_name }}
        </span>
      </div>
    </div>

    {% else %}
    <a href="{% url 'login' %}" class="px-3 sm:px-4 py-1 sm:py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-500 transition 
      text-sm sm:text-base">
      Login
    </a>
    {% endif %}
  </div>
</div>